<!doctype html>
<html lang="de" data-lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kontakt – Vilana Event & Catering</title>
    <meta name="description" content="Kontakt zu Vilana Event & Catering: Anfrage per E-Mail, Telefon oder WhatsApp." />
    <meta name="robots" content="index,follow,max-image-preview:large" />
    <meta name="theme-color" content="#fdfaf6" />

    <!-- Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YW71FCW4FJ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){ dataLayer.push(arguments); }
      gtag("js", new Date()); gtag("config", "G-YW71FCW4FJ");
    </script>

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative&family=Cormorant+SC:wght@400;500;700&display=swap" rel="stylesheet" />

    <style>
      body { font-family:"Cormorant SC",serif; background:#fdfaf6; color:#1f2937; }
      h1,h2,h3,p,span { font-family:"Cormorant SC",serif; }
      .logo-title{ font-family:"Cinzel Decorative",cursive; font-size:1.8rem; font-weight:500; letter-spacing:.5px; color:#1f2937; }
      .logo-subtitle{ font-size:1rem; color:#1f2937; }

      /* ⬇️ Показываем оба языка по умолчанию в их естественном display,
             а скрываем НЕнужный язык чисто CSS по атрибуту на <html>. */
      .lang { display: initial; }
      :root[data-lang="de"] .lang-ru { display:none !important; }
      :root[data-lang="ru"] .lang-de { display:none !important; }

      .hidden-field { display:none; }
    </style>
  </head>
  <body>
    <!-- ===== HEADER ===== -->
    <header class="bg-white shadow-md sticky top-0 z-40">
      <div class="container mx-auto px-4 py-4 flex items-center justify-between">
        <a href="index.html" class="flex items-baseline gap-1">
          <span class="logo-title">Vilana</span><span class="logo-subtitle">Event &amp; Catering</span>
        </a>

        <!-- Desktop nav -->
        <nav class="hidden md:flex items-center space-x-8" aria-label="Hauptnavigation">
          <a href="index.html#home" class="hover:text-amber-700">Startseite</a>
          <a href="index.html#services" class="hover:text-amber-700">Leistungen</a>
          <a href="menu.html" class="hover:text-amber-700">Menü</a>
          <a href="galerie.html" class="hover:text-amber-700">Galerie</a>
          <a href="about.html" class="hover:text-amber-700">Über uns</a>
          <a href="bewertung.html" class="hover:text-amber-700">Bewertung</a>
          <a href="contact.html" class="text-amber-700 font-semibold">Kontakt</a>
          <a id="eventLink" class="hover:text-amber-700">Event</a>

          <!-- Desktop lang -->
          <div class="relative">
            <button id="langToggle" type="button" class="border border-gray-400 px-3 py-1 rounded text-sm"
              aria-haspopup="true" aria-expanded="false" aria-label="Sprache wählen – Desktop">DE ▾</button>
            <ul id="langMenu" class="hidden absolute right-0 mt-2 bg-white text-gray-800 shadow-lg rounded w-28 z-50" role="menu">
              <li><button type="button" data-lang="de" class="w-full text-left px-4 py-2 hover:bg-gray-100">Deutsch</button></li>
              <li><button type="button" data-lang="ru" class="w-full text-left px-4 py-2 hover:bg-gray-100">Русский</button></li>
            </ul>
          </div>
        </nav>

        <!-- Mobile: lang + burger -->
        <div class="flex items-center gap-2 md:hidden">
          <div class="relative">
            <button id="langToggleMobile" type="button" class="inline-flex h-8 w-8 items-center justify-center"
              aria-haspopup="true" aria-expanded="false" aria-label="Sprache wählen – Mobil"><span class="text-xs font-semibold">DE</span></button>
            <ul id="langMenuMobile" class="hidden absolute right-0 mt-2 min-w-[9rem] rounded-md bg-white text-gray-800 shadow-lg ring-1 ring-black/5 z-50" role="menu">
              <li><button type="button" data-lang="de" class="w-full text-left px-4 py-2 text-sm hover:bg-gray-100">Deutsch</button></li>
              <li><button type="button" data-lang="ru" class="w-full text-left px-4 py-2 text-sm hover:bg-gray-100">Русский</button></li>
            </ul>
          </div>

          <button id="menuToggle" type="button" aria-label="Menü öffnen"
            class="inline-flex h-10 w-10 items-center justify-center rounded-md border border-gray-400 bg-black/40 text-gray-200">
            <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"/>
            </svg>
          </button>
        </div>
      </div>

      <!-- Mobile menu -->
      <div id="mobileMenu" class="md:hidden hidden absolute top-[64px] left-0 w-full bg-white px-4 pb-6 pt-2 space-y-3 shadow-lg z-40" role="menu">
        <a href="index.html#home" class="block hover:text-amber-700">Startseite</a>
        <a href="index.html#services" class="block hover:text-amber-700">Leistungen</a>
        <a href="menu.html" class="block hover:text-amber-700">Menü</a>
        <a href="galerie.html" class="block hover:text-amber-700">Galerie</a>
        <a href="about.html" class="block hover:text-amber-700">Über uns</a>
        <a href="bewertung.html" class="block hover:text-amber-700">Bewertung</a>
        <a href="contact.html" class="block text-amber-700 font-semibold">Kontakt</a>
        <a id="eventLinkMobile" class="block hover:text-amber-700">Event</a>
      </div>
    </header>

    <!-- ===== MAIN ===== -->
    <main class="py-16">
      <div class="mx-auto px-4 max-w-3xl text-center">
        <h1 class="text-4xl font-bold mb-12 lang lang-de">Kontaktieren Sie uns</h1>
        <h1 class="text-4xl font-bold mb-12 lang lang-ru">Свяжитесь с нами</h1>

        <div class="text-center mb-12 space-y-2">
          <p class="text-lg"><strong>E-Mail:</strong> <a href="mailto:v.s@vilana.info" class="text-amber-700">v.s@vilana.info</a></p>
          <p class="text-lg"><strong>Telefon 1:</strong> <a href="tel:+4917657775996" class="text-amber-700">+49 176 5777 5996</a></p>
          <p class="text-lg"><strong>Telefon 2:</strong> <a href="tel:+4917642288707" class="text-amber-700">+49 176 4228 8707</a></p>
          <p class="text-lg"><strong>WhatsApp:</strong> <a href="https://wa.me/4917657775996" class="text-amber-700" target="_blank" rel="noopener noreferrer">Jetzt schreiben</a></p>
          <p class="text-lg"><strong>Adresse:</strong> 31855 Aerzen / Osterstr. 28</p>
        </div>

        <form id="contactForm" class="bg-white p-8 rounded-lg shadow-md max-w-2xl mx-auto">
          <input type="text" name="honeypot" class="hidden-field" autocomplete="off" />

          <div class="mb-4 text-left">
            <label for="name" class="block text-gray-700 mb-2">
              <span class="lang lang-de">Ihr Name</span>
              <span class="lang lang-ru">Ваше имя</span>
            </label>
            <input class="w-full border border-gray-300 rounded px-4 py-2" type="text" id="name" name="name" required />
          </div>

          <div class="mb-4 text-left">
            <label for="email" class="block text-gray-700 mb-2">
              <span class="lang lang-de">Ihre E-Mail</span>
              <span class="lang lang-ru">Ваш e-mail</span>
            </label>
            <input class="w-full border border-gray-300 rounded px-4 py-2" type="email" id="email" name="email" required />
          </div>

          <div class="mb-4 text-left">
            <label for="message" class="block text-gray-700 mb-2">
              <span class="lang lang-de">Ihre Nachricht</span>
              <span class="lang lang-ru">Ваше сообщение</span>
            </label>
            <textarea class="w-full border border-gray-300 rounded px-4 py-2" id="message" name="message" rows="5" required></textarea>
          </div>

          <div class="mb-4 text-left">
            <label class="inline-flex items-center">
              <input type="checkbox" required class="mr-2" />
              <span class="text-sm lang lang-de">Ich akzeptiere die <a href="vilana-legal.html" class="text-amber-700 underline">AGB &amp; Datenschutz</a></span>
              <span class="text-sm lang lang-ru">Я принимаю <a href="vilana-legal.html" class="text-amber-700 underline">условия и политику конфиденциальности</a></span>
            </label>
          </div>

          <div id="formMsg" class="text-center text-green-600 font-semibold hidden mb-4">
            Nachricht erfolgreich gesendet!
          </div>

          <button type="submit" class="bg-amber-600 hover:bg-amber-700 text-white font-bold py-2 px-6 rounded-full">
            <span class="lang lang-de">Senden</span>
            <span class="lang lang-ru">Отправить</span>
          </button>
        </form>
      </div>
    </main>

    <!-- ===== FOOTER ===== -->
    <footer class="bg-gray-800 text-white py-10 mt-16 relative">
      <div class="container mx-auto px-4 text-center">
        <div class="mb-4">
          <a href="https://www.instagram.com/vilana_catering/" class="hover:text-amber-400">Instagram</a>
        </div>
        <p>
          <a href="impressum.html" class="hover:underline">Impressum</a> |
          <a href="datenschutz.html" class="hover:underline">Datenschutz</a> |
          <a href="agb.html" class="hover:underline">AGB</a>
        </p>
        <p class="lang lang-de">&copy; 2025 Vilana Event &amp; Catering. Alle Rechte vorbehalten.</p>
        <p class="lang lang-ru">&copy; 2025 Vilana Event &amp; Catering. Все права защищены.</p>
      </div>
      <button onclick="window.scrollTo({ top: 0, behavior: 'smooth' })" class="absolute right-4 bottom-4 bg-amber-500 hover:bg-amber-600 text-white p-2 rounded-full" aria-label="Nach oben">▲</button>
    </footer>

    <!-- EmailJS SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

    <!-- ===== JS: язык, бургер, EmailJS, event-ссылки ===== -->
    <script>
      // Язык: читаем ?lang= или localStorage, ставим атрибут data-lang
      (function initLangBoot(){
        const url = new URL(location.href);
        const q = (url.searchParams.get("lang") || "").toLowerCase();
        const saved = (localStorage.getItem("vilana_lang") || "de").toLowerCase();
        const lang = (q === "ru" ? "ru" : (saved === "ru" ? "ru" : "de"));
        document.documentElement.setAttribute("data-lang", lang);
        document.documentElement.lang = lang;
        localStorage.setItem("vilana_lang", lang);
      })();

      function setLanguage(lang){
        lang = (lang === "ru") ? "ru" : "de";
        document.documentElement.setAttribute("data-lang", lang);
        document.documentElement.lang = lang;
        localStorage.setItem("vilana_lang", lang);
        // метки на кнопках
        const d = document.getElementById("langToggle");
        const m = document.getElementById("langToggleMobile");
        if (d) d.textContent = lang.toUpperCase() + " ▾";
        if (m) m.innerHTML = '<span class="text-xs font-semibold">' + lang.toUpperCase() + '</span>';
        wireEventLinks(lang);
      }

      // Языковые меню (desktop + mobile)
      (function initLangMenus(){
        const t = document.getElementById("langToggle");
        const menu = document.getElementById("langMenu");
        if (t && menu){
          t.addEventListener("click", e => { e.stopPropagation(); menu.classList.toggle("hidden"); t.setAttribute("aria-expanded", String(!menu.classList.contains("hidden"))); });
          menu.querySelectorAll("[data-lang]").forEach(b=> b.addEventListener("click", e=>{ setLanguage(e.currentTarget.dataset.lang); menu.classList.add("hidden"); t.setAttribute("aria-expanded","false"); }));
        }
        const tm = document.getElementById("langToggleMobile");
        const menum = document.getElementById("langMenuMobile");
        if (tm && menum){
          tm.addEventListener("click", e=>{ e.stopPropagation(); const h = menum.classList.toggle("hidden"); tm.setAttribute("aria-expanded", h ? "false":"true"); });
          menum.querySelectorAll("[data-lang]").forEach(b=> b.addEventListener("click", e=>{ setLanguage(e.currentTarget.dataset.lang); menum.classList.add("hidden"); tm.setAttribute("aria-expanded","false"); }));
        }
        document.addEventListener("click", e=>{ menu?.classList.add("hidden"); t?.setAttribute("aria-expanded","false"); menum?.classList.add("hidden"); tm?.setAttribute("aria-expanded","false"); });
        // начальная надпись на кнопках
        const cur = document.documentElement.getAttribute("data-lang") || "de";
        if (t) t.textContent = cur.toUpperCase() + " ▾";
        if (tm) tm.innerHTML = '<span class="text-xs font-semibold">' + cur.toUpperCase() + '</span>';
      })();

      // Бургер
      (function initBurger(){
        const btn = document.getElementById("menuToggle");
        const menu = document.getElementById("mobileMenu");
        if (!btn || !menu) return;
        const setOpen = (open)=>{ menu.classList.toggle("hidden", !open); btn.setAttribute("aria-expanded", String(open)); };
        btn.addEventListener("click", e=>{ e.stopPropagation(); setOpen(menu.classList.contains("hidden")); });
        document.addEventListener("click", e=>{ if (!menu.classList.contains("hidden")) { const inside = menu.contains(e.target) || btn.contains(e.target); if (!inside) setOpen(false); }});
        document.addEventListener("keydown", e=>{ if (e.key === "Escape") setOpen(false); });
        menu.querySelectorAll("a").forEach(a=> a.addEventListener("click", ()=> setOpen(false)));
      })();

      // EmailJS
      (function initEmail(){
        if (!window.emailjs) return;
        try { emailjs.init("vfmomNKrMxrf2xqDW"); } catch(e){}
        const form = document.getElementById("contactForm");
        if (!form) return;
        form.addEventListener("submit", function(e){
          e.preventDefault();
          if (form.honeypot && form.honeypot.value) return;
          emailjs.sendForm("service_75biswm","template_fuxgrlb",form).then(()=>{
            document.getElementById("formMsg")?.classList.remove("hidden");
            form.reset();
          }).catch(err=> alert("Fehler beim Senden: " + (err?.text || err)));
        });
      })();

      // Event ссылки (с учётом lang и UTM)
      function wireEventLinks(lang){
        try{
          const cur = new URL(location.href);
          const target = new URL("event.html", cur);
          target.searchParams.set("id", "russian-oktoberfest-2025");
          target.searchParams.set("lang", lang);
          ["utm_source","utm_medium","utm_campaign","utm_term","utm_content","gclid","fbclid"].forEach(k=>{
            const v = cur.searchParams.get(k); if (v) target.searchParams.set(k, v);
          });
          const a1 = document.getElementById("eventLink");
          const a2 = document.getElementById("eventLinkMobile");
          if (a1) a1.href = target.href;
          if (a2) a2.href = target.href;
        }catch{}
      }
      wireEventLinks(document.documentElement.getAttribute("data-lang") || "de");
    </script>
  </body>
</html>