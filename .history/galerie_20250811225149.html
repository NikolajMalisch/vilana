<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Vilana Event &amp; Catering | Galerie</title>

<!-- Tailwind CSS (lokal kompiliert) -->
<link rel="stylesheet" href="css/output.css">

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative&family=Cormorant+SC:wght@400;500;700&display=swap" rel="stylesheet" />

<style>
    /* Grundstil der Seite */
    body { font-family: 'Cormorant SC', serif; background-color: #fdfaf6; }
    .logo-container { display:flex; align-items:baseline; gap:.3rem; margin-top:4px; }
    .logo-title { font-family:'Cinzel Decorative',cursive; font-size:1.8rem; font-weight:500; letter-spacing:.5px; color:#1f2937; }
    .logo-subtitle { font-size:1.2rem; font-weight:400; color:#1f2937; }

    /* Zoom-Zustand im Lightbox-Bild (optional) */
    .zoomed { transform: scale(1.6); transition: transform .25s ease; cursor: zoom-out; }
</style>
</head>
<body class="text-gray-800 antialiased">

<!-- HEADER -->
<header class="bg-white shadow-md sticky top-0 z-40">
<div class="container mx-auto px-4 py-4 flex justify-between items-center">
    <!-- Logo -->
    <div class="logo-container">
    <h1 class="logo-title">Vilana</h1>
    <span class="logo-subtitle">Event &amp; Catering</span>
    </div>

    <!-- Desktop-Navigation -->
    <nav class="hidden md:flex items-center space-x-8">
    <a href="index.html" class="text-gray-700 hover:text-amber-700">Startseite</a>
    <a href="menu.html" class="text-gray-700 hover:text-amber-700">Menü</a>
    <a href="about.html" class="text-gray-700 hover:text-amber-700">Über uns</a>
    <a href="galerie.html" class="text-amber-700 font-bold underline">Galerie</a>
    <a href="contact.html" class="text-gray-700 hover:text-amber-700">Kontakt</a>

    <!-- Sprachmenü (Desktop) -->
    <div class="relative ml-2">
        <button id="langToggle" class="px-2 py-1 text-gray-700" type="button" aria-haspopup="true" aria-expanded="false">DE ▾</button>
        <ul id="langMenu" class="hidden absolute right-0 mt-2 bg-white text-gray-800 shadow-lg rounded w-28 z-50">
        <li><button type="button" data-lang="de" class="w-full text-left px-4 py-2 hover:bg-gray-100">Deutsch</button></li>
        <li><button type="button" data-lang="ru" class="w-full text-left px-4 py-2 hover:bg-gray-100">Русский</button></li>
        </ul>
    </div>
    </nav>

    <!-- Mobile: Sprache + Burger -->
    <div class="flex items-center md:hidden gap-2 relative">
    <button id="langToggleMobile" type="button"
            class="inline-flex h-8 w-8 items-center justify-center bg-transparent text-gray-800 focus:outline-none active:scale-[.98]"
            aria-haspopup="true" aria-expanded="false" aria-label="Sprache wählen – Mobil">DE</button>

    <ul id="langMenuMobile"
        class="hidden absolute right-12 top-10 min-w-[9rem] rounded-md bg-white text-gray-800 shadow-lg ring-1 ring-black/5 z-50">
        <li><button type="button" data-lang="de" class="w-full text-left px-4 py-2 text-sm hover:bg-gray-100">Deutsch</button></li>
        <li><button type="button" data-lang="ru" class="w-full text-left px-4 py-2 text-sm hover:bg-gray-100">Русский</button></li>
    </ul>

    <button id="menuToggle" type="button"
            class="inline-flex h-10 w-10 items-center justify-center rounded-md border border-gray-400 bg-black/40 text-gray-200 focus:outline-none"
            aria-label="Menü öffnen">
        <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
    </button>
    </div>
    </div>

    <!-- Mobile Menü -->
    <div id="mobileMenu" class="md:hidden hidden px-4 pb-4 space-y-2">
    <a href="index.html" class="block text-gray-700 hover:text-amber-700">Startseite</a>
    <a href="menu.html" class="block text-gray-700 hover:text-amber-700">Menü</a>
    <a href="about.html" class="block text-gray-700 hover:text-amber-700">Über uns</a>
    <a href="galerie.html" class="block text-amber-700 font-bold underline">Galerie</a>
    <a href="contact.html" class="block text-gray-700 hover:text-amber-700">Kontakt</a>
    </div>
    </header>

<!-- MAIN -->
<main class="py-16 px-4 max-w-7xl mx-auto">
<h2 class="text-3xl md:text-4xl font-bold text-center text-gray-800 mb-10 lang lang-de">Galerie unserer Veranstaltungen</h2>
<h2 class="text-3xl md:text-4xl font-bold text-center text-gray-800 mb-10 lang lang-ru hidden">Галерея наших мероприятий</h2>

<!-- Galerie-Grid -->
<div id="gallery" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"></div>
</main>

<!-- LIGHTBOX -->
<div id="lightbox" class="fixed inset-0 bg-black/90 flex items-center justify-center z-50 hidden">
<button onclick="closeLightbox()" class="absolute top-5 right-5 text-white text-3xl font-bold" aria-label="Schließen">&times;</button>
<button onclick="prevImage()" class="absolute left-5 text-white text-4xl" aria-label="Vorheriges">&#10094;</button>
<!-- Bild in der Lightbox ohne Beschnitt anzeigen -->
<img id="lightbox-image" src="" alt="Vergrößertes Bild" class="max-w-[96vw] max-h-[80vh] object-contain cursor-zoom-in" onclick="toggleZoom(event)" />
  <button onclick="nextImage()" class="absolute right-5 text-white text-4xl" aria-label="Nächstes">&#10095;</button>
</div>

<!-- FOOTER -->
<footer class="bg-gray-800 text-white py-10 mt-16 relative">
  <div class="container mx-auto px-4 text-center">
    <p class="mb-2">
      <a href="impressum.html" class="hover:underline">Impressum</a> |
      <a href="datenschutz.html" class="hover:underline">Datenschutz</a> |
      <a href="agb.html" class="hover:underline">AGB</a>
    </p>
    <p>&copy; 2025 Vilana Event &amp; Catering. Alle Rechte vorbehalten.</p>
  </div>
  <button type="button" onclick="window.scrollTo({top: 0, behavior: 'smooth'})"
          class="absolute right-4 bottom-4 bg-amber-500 hover:bg-amber-600 text-white p-2 rounded-full shadow-lg transition"
          title="Nach oben" aria-label="Nach oben">▲</button>
</footer>

<script>
  /* =========================
     Einstellungen für Größe & Darstellung
     ========================= */
  // Einheitliches Seitenverhältnis für jede Kachel (3:2 wie das erste Foto)
  const CARD_RATIO = '3 / 2';
  // Modus der Bildanpassung:
  // 'contain' = ganzes Foto sichtbar (mit ggf. Rändern), 'cover' = ohne Ränder, kann zuschneiden
  const IMAGE_FIT  = 'contain';

  /* ---------- Datenquelle (deine Pfade bleiben unverändert) ---------- */
  const imagePaths = [
    'images/event/event-1.webp','images/event/event-2.webp','images/event/event-3.webp',
    'images/event/event-4.webp','images/event/event-5.webp','images/event/event-6-1.webp',
    'images/event/event-7.webp','images/event/event-8.webp','images/event/event-9.webp',
    'images/event/event-10.webp','images/event/event-11.webp','images/event/event-12.webp',
    'images/event/event-13.webp','images/event/event-14.webp','images/event/event-15.webp',
    'images/event/event-16.webp','images/event/event-17.webp','images/event/event-18.webp',
    'images/event/event-19.webp','images/event/event-20.webp','images/event/event-21.webp'
  ];

  // Alternativtexte für SEO/Screenreader (DE; bei RU umschaltbar über dein Sprachmenü)
  const altTemplates = [
    "Hochzeit Catering Hameln","Eventservice Niedersachsen","Catering Buffet Hameln",
    "Hochzeitstorte Niedersachsen","Party Catering Hannover","Catering mit Servicepersonal",
    "Buffet Hochzeit Niedersachsen","Event Buffet Hameln","Hochzeit in Bad Pyrmont",
    "Catering für Firmenfeier","Russischer Abend Niedersachsen","Fingerfood Catering Hameln",
    "Hochzeitstafel Niedersachsen","Eventdekoration Hameln","Candy Bar Hochzeit",
    "Menü für Firmenfeier","Hochzeit Empfang","Eventservice NRW",
    "Hochzeit Catering Buffet","Abendveranstaltung Niedersachsen","Hochzeit Catering in Hannover"
  ];

  // Intrinsische Größen: helfen dem Browser, sofort Platz zu reservieren (kein Layout-Sprung)
  const DEF_W = 1200, DEF_H = 800;

  const gallery = document.getElementById('gallery');
  const lb = document.getElementById('lightbox');
  const lbImg = document.getElementById('lightbox-image');
  let currentIndex = 0;

  /* =========================
     Galerie dynamisch aufbauen
     – Kachel hat feste Ratio (CARD_RATIO)
     – Bild wird vollständig angezeigt (IMAGE_FIT = 'contain')
     ========================= */
  imagePaths.forEach((src, i) => {
    // Kachel/Container
    const fig = document.createElement('figure');
    fig.className = 'relative overflow-hidden rounded-lg shadow-md bg-white ring-1 ring-black/5';
    // Wichtig: feste Höhe per Ratio, funktioniert ohne Tailwind-Plugin
    fig.style.aspectRatio = CARD_RATIO;

    // Bild
    const img = document.createElement('img');
    img.src = src;
    img.alt = `Vilana Event & Catering – ${altTemplates[i] || 'Event Catering Niedersachsen'}`;
    img.width = DEF_W;   // reserviert Platz, verhindert CLS
    img.height = DEF_H;
    img.decoding = 'async';
    img.loading = i === 0 ? 'eager' : 'lazy';
    if (i === 0) img.fetchPriority = 'high';
    // -> Ganzes Foto sichtbar; für Zuschnitt stattdessen object-cover nehmen
    img.className = 'w-full h-full object-contain bg-gray-100 transition-transform duration-300 group-hover:scale-105';


    // Klick öffnet Lightbox
    img.addEventListener('click', () => openLightbox(i));

    fig.appendChild(img);
    gallery.appendChild(fig);
  });

  // Log für fehlende Pfade
  document.addEventListener('error', (e) => {
    const t = e.target;
    if (t.tagName === 'IMG') console.error('Bild nicht gefunden:', t.src);
  }, true);

  /* =========================
     Lightbox-Logik
     ========================= */
  function openLightbox(i){ currentIndex=i; updateLightbox(); lb.classList.remove('hidden'); lbImg.classList.remove('zoomed'); }
  function closeLightbox(){ lb.classList.add('hidden'); lbImg.src=''; lbImg.classList.remove('zoomed'); }
  function prevImage(){ currentIndex=(currentIndex-1+imagePaths.length)%imagePaths.length; updateLightbox(); }
  function nextImage(){ currentIndex=(currentIndex+1)%imagePaths.length; updateLightbox(); }
  function updateLightbox(){ lbImg.src=imagePaths[currentIndex]; }
  function toggleZoom(e){ e.target.classList.toggle('zoomed'); }

  // Tastaturbedienung (optional)
  document.addEventListener('keydown', (e) => {
    if (lb.classList.contains('hidden')) return;
    if (e.key === 'Escape') closeLightbox();
    if (e.key === 'ArrowLeft')  prevImage();
    if (e.key === 'ArrowRight') nextImage();
    if (e.key === ' ' || e.key === 'Enter') { e.preventDefault(); toggleZoom({target: lbImg}); }
  });

  /* =========================
     Sprache + Burger-Menü (wie bei dir)
     ========================= */
  const langToggleDesktop = document.getElementById('langToggle');
  const langMenuDesktop   = document.getElementById('langMenu');
  const langToggleMobile  = document.getElementById('langToggleMobile');
  const langMenuMobile    = document.getElementById('langMenuMobile');

  langToggleDesktop?.addEventListener('click', () => {
    langMenuDesktop.classList.toggle('hidden');
    langToggleDesktop.setAttribute('aria-expanded', langMenuDesktop.classList.contains('hidden') ? 'false' : 'true');
  });
  langMenuDesktop?.querySelectorAll('button').forEach(b=>b.addEventListener('click',()=>setLanguage(b.dataset.lang)));

  langToggleMobile?.addEventListener('click', () => {
    langMenuMobile.classList.toggle('hidden');
    langToggleMobile.setAttribute('aria-expanded', langMenuMobile.classList.contains('hidden') ? 'false' : 'true');
  });
  langMenuMobile?.querySelectorAll('button').forEach(b=>b.addEventListener('click',()=>setLanguage(b.dataset.lang)));

  document.addEventListener('click', (e) => {
    if (langMenuDesktop && !langMenuDesktop.contains(e.target) && !langToggleDesktop?.contains(e.target)) langMenuDesktop.classList.add('hidden');
    if (langMenuMobile && !langMenuMobile.contains(e.target) && !langToggleMobile?.contains(e.target)) langMenuMobile.classList.add('hidden');
  });

  function setLanguage(lang){
    document.documentElement.lang = (lang === 'ru') ? 'ru' : 'de';
    document.querySelectorAll('.lang').forEach(el => el.classList.add('hidden'));
    document.querySelectorAll(`.lang-${lang}`).forEach(el => el.classList.remove('hidden'));
    if (langToggleDesktop) langToggleDesktop.textContent = lang.toUpperCase() + ' ▾';
    if (langToggleMobile)  langToggleMobile.textContent  = lang.toUpperCase();
    langMenuDesktop?.classList.add('hidden');
    langMenuMobile?.classList.add('hidden');
  }
  setLanguage('de');

  document.getElementById('menuToggle').addEventListener('click', () => {
    document.getElementById('mobileMenu').classList.toggle('hidden');
  });
</script>
</body>
</html>
