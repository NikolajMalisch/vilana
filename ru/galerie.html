<!doctype html>
<html lang="ru-RU">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- =========================
        SEO-Basis – Vilana Galerie (RU)
    ========================== -->
    <title>Галерея – Vilana Event &amp; Catering | Свадьбы, фуршеты и мероприятия в Хамельне</title>
    <meta
      name="description"
      content="Галерея Vilana Event &amp; Catering в Хамельне: впечатления со свадеб, корпоративов и частных мероприятий. Стильные фуршеты, праздничный декор, десертные столы и event-дизайн — качество для Hameln, Bad Pyrmont и Нижней Саксонии."
    />
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    <meta name="theme-color" content="#fdfaf6" />

    <!-- Canonical & Hreflang (точно) -->
    <link rel="canonical" href="https://www.vilana-event.de/ru/galerie.html" />
    <link rel="alternate" hreflang="ru-RU" href="https://www.vilana-event.de/ru/galerie.html" />
    <link rel="alternate" hreflang="de-DE" href="https://www.vilana-event.de/galerie.html" />
    <link rel="alternate" hreflang="x-default" href="https://www.vilana-event.de/galerie.html" />

    <!-- Open Graph / Social -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Галерея – Vilana Event &amp; Catering" />
    <meta
      property="og:description"
      content="Впечатления со свадеб, корпоративов и частных мероприятий: фуршеты, салаты, десерты и стильная сервировка от Vilana Event &amp; Catering."
    />
    <meta property="og:url" content="https://www.vilana-event.de/ru/galerie.html" />
    <meta property="og:site_name" content="Vilana Event &amp; Catering" />
    <meta property="og:image" content="https://www.vilana-event.de/images/social/vilana-gallery-cover.webp" />
    <meta property="og:locale" content="ru_RU" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Галерея – Vilana Event &amp; Catering" />
    <meta
      name="twitter:description"
      content="Впечатления со свадеб, корпоративов и частных мероприятий: фуршеты, десерты и декор."
    />
    <meta name="twitter:image" content="https://www.vilana-event.de/images/social/vilana-gallery-cover.webp" />

    <!-- =========================
      JSON-LD (Breadcrumbs + короткий ItemList)
      (не раздуваем HTML — первые 12 изображений)
    ========================== -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@graph": [
          {
            "@type": "BreadcrumbList",
            "itemListElement": [
              { "@type": "ListItem", "position": 1, "name": "Главная", "item": "https://www.vilana-event.de/ru/" },
              { "@type": "ListItem", "position": 2, "name": "Галерея", "item": "https://www.vilana-event.de/ru/galerie.html" }
            ]
          },
          {
            "@type": "ItemList",
            "name": "Галерея – Vilana Event & Catering",
            "itemListOrder": "https://schema.org/ItemListOrderAscending",
            "itemListElement": [
              { "@type": "ListItem", "position": 1, "url": "https://www.vilana-event.de/images/event/event-1.webp" },
              { "@type": "ListItem", "position": 2, "url": "https://www.vilana-event.de/images/event/event-2.webp" },
              { "@type": "ListItem", "position": 3, "url": "https://www.vilana-event.de/images/event/event-3.webp" },
              { "@type": "ListItem", "position": 4, "url": "https://www.vilana-event.de/images/event/event-4.webp" },
              { "@type": "ListItem", "position": 5, "url": "https://www.vilana-event.de/images/event/event-5.webp" },
              { "@type": "ListItem", "position": 6, "url": "https://www.vilana-event.de/images/event/event-6.webp" },
              { "@type": "ListItem", "position": 7, "url": "https://www.vilana-event.de/images/event/event-7.webp" },
              { "@type": "ListItem", "position": 8, "url": "https://www.vilana-event.de/images/event/event-8.webp" },
              { "@type": "ListItem", "position": 9, "url": "https://www.vilana-event.de/images/event/event-9.webp" },
              { "@type": "ListItem", "position": 10, "url": "https://www.vilana-event.de/images/event/event-10.webp" },
              { "@type": "ListItem", "position": 11, "url": "https://www.vilana-event.de/images/event/event-11.webp" },
              { "@type": "ListItem", "position": 12, "url": "https://www.vilana-event.de/images/event/event-12.webp" }
            ]
          }
        ]
      }
    </script>

    <!-- Tailwind CSS (lokal kompiliert) -->
    <link rel="stylesheet" href="/css/output.css" />
    <link rel="stylesheet" href="/css/footer-premium.css" />

    <!-- Fallback: wenn lokales CSS nicht greift — CDN laden -->
    <script>
      (function () {
        try {
          const probe = document.createElement("div");
          probe.className = "hidden";
          document.documentElement.appendChild(probe);
          const ok = getComputedStyle(probe).display === "none";
          probe.remove();
          if (!ok) {
            const s = document.createElement("script");
            s.src = "https://cdn.tailwindcss.com";
            document.head.appendChild(s);
            console.warn("Tailwind CDN Fallback aktiviert");
          }
        } catch (e) {}
      })();
    </script>

    <!-- =========================
      Google Fonts (non render-blocking)
    ========================== -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative&family=Cormorant+SC:wght@400;500;700&display=swap"
      media="print"
      onload="this.media='all'"
    />
    <noscript>
      <link
        rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative&family=Cormorant+SC:wght@400;500;700&display=swap"
      />
    </noscript>

    <!-- =========================
      GA4 (DSGVO-safe): загружаем только после consent
      Твой cookiewall должен вызвать window.vilanaGrantAnalyticsConsent()
      или dispatch event: document.dispatchEvent(new Event('vilana:analytics-consent'))
    ========================== -->
    <script>
      (function () {
        const GA_ID = "G-YW71FCW4FJ";
        let loaded = false;

        function loadGtag() {
          if (loaded) return;
          loaded = true;

          const s = document.createElement("script");
          s.async = true;
          s.src = "https://www.googletagmanager.com/gtag/js?id=" + encodeURIComponent(GA_ID);
          document.head.appendChild(s);

          window.dataLayer = window.dataLayer || [];
          function gtag() {
            window.dataLayer.push(arguments);
          }
          window.gtag = window.gtag || gtag;

          gtag("js", new Date());
          gtag("config", GA_ID, { anonymize_ip: true });
        }

        window.vilanaGrantAnalyticsConsent = loadGtag;
        document.addEventListener("vilana:analytics-consent", loadGtag);

        // если у тебя где-то уже есть флаг:
        if (window.vilanaConsentGranted === true) loadGtag();
      })();
    </script>

    <style>
      /* =========================
        Basis-Typografie & Branding
      ========================== */
      body {
        font-family: "Cormorant SC", serif;
        background-color: #fdfaf6;
      }
      .logo-container {
        display: flex;
        align-items: baseline;
        gap: 0.3rem;
        margin-top: 4px;
      }
      .logo-title {
        font-family: "Cinzel Decorative", cursive;
        font-size: 1.8rem;
        font-weight: 400;
        letter-spacing: 0.5px;
        color: #1f2937;
        line-height: 1;
        margin: 0;
      }
      .logo-subtitle {
        font-size: 1rem;
        font-weight: 350;
        color: #1f2937;
        line-height: 1;
      }
      /* Zoom-Zustand im Lightbox-Bild */
      .zoomed {
        transform: scale(1.6);
        transition: transform 0.25s ease;
        cursor: zoom-out;
      }
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }
    </style>
  </head>

  <body class="text-gray-800 antialiased">
    <!-- Skip-Link -->
    <a
      href="#content"
      class="sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2 bg-white border px-3 py-2 rounded"
    >
      Перейти к содержанию
    </a>

    <!-- =========================
        HEADER (RU)
    ========================== -->
    <header class="bg-white shadow-md">
      <div class="container mx-auto px-4 py-3 flex items-center justify-between">
        <!-- Logo (RU) -->
        <a
          href="/ru/"
          class="logo-container flex items-center gap-1 whitespace-nowrap"
          style="min-height: 38px"
          aria-label="Vilana Event &amp; Catering – Главная (RU)"
        >
          <span class="logo-title">Vilana</span>
          <span class="logo-subtitle text-xs sm:text-sm tracking-wide" style="padding-top: 1px">
            Event &amp; Catering
          </span>
        </a>

        <div class="flex items-center gap-3">
          <!-- Desktop Navigation -->
          <nav class="hidden md:flex items-center space-x-8" aria-label="Навигация">
            <a href="/ru/#home" class="text-gray-700 hover:text-amber-700">Главная</a>
            <a href="/ru/#services" class="text-gray-700 hover:text-amber-700">Услуги</a>
            <a href="/ru/partyservice.html" class="text-gray-700 hover:text-amber-700">Партисервис</a>
            <a href="/ru/menu.html" class="text-gray-700 hover:text-amber-700">Меню</a>
            <a href="/ru/galerie.html" class="text-gray-700 hover:text-amber-700 underline font-semibold">Галерея</a>
            <a href="/ru/about.html" class="text-gray-700 hover:text-amber-700">О нас</a>
            <a href="/ru/bewertung.html" class="text-gray-700 hover:text-amber-700">Отзывы</a>
            <a id="eventLink" href="/ru/event.html" class="text-gray-700 hover:text-amber-700">Event</a>
            <a href="/ru/contact.html" class="text-gray-700 hover:text-amber-700">Контакты</a>
          </nav>

          <!-- Language switch -->
          <div class="hidden md:flex items-center gap-2 text-sm" aria-label="Переключатель языка">
            <a class="px-3 py-1 rounded border border-gray-300 hover:bg-gray-100" href="/galerie.html">DE</a>
            <span class="px-3 py-1 rounded border border-gray-300 bg-gray-100">RU</span>
          </div>

          <!-- Mobile: DE link + Burger -->
          <div class="flex items-center gap-2 md:hidden relative">
            <a
              href="/galerie.html"
              class="inline-flex h-8 px-3 items-center justify-center rounded border border-gray-300 text-gray-800 text-xs font-semibold"
              aria-label="Deutsche Version"
              >DE</a
            >

            <button
              id="menuToggle"
              type="button"
              class="inline-flex h-10 w-10 items-center justify-center rounded-md border border-gray-400 bg-black/40 text-gray-200 focus:outline-none"
              aria-label="Открыть меню"
              aria-controls="mobileMenu"
              aria-expanded="false"
            >
              <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
              </svg>
            </button>
          </div>
        </div>
      </div>

      <!-- Mobile Menü -->
      <div
        id="mobileMenu"
        class="md:hidden hidden absolute left-0 w-full bg-white px-4 pb-6 pt-2 space-y-3 shadow-lg z-40"
        role="menu"
        aria-label="Мобильное меню"
      >
        <a href="/ru/#home" class="block text-gray-700 hover:text-amber-700" role="menuitem">Главная</a>
        <a href="/ru/#services" class="block text-gray-700 hover:text-amber-700" role="menuitem">Услуги</a>
        <a href="/ru/partyservice.html" class="block text-gray-700 hover:text-amber-700" role="menuitem">Партисервис</a>
        <a href="/ru/menu.html" class="block text-gray-700 hover:text-amber-700" role="menuitem">Меню</a>
        <a href="/ru/galerie.html" class="block text-gray-700 hover:text-amber-700 underline font-semibold" role="menuitem">Галерея</a>
        <a href="/ru/about.html" class="block text-gray-700 hover:text-amber-700" role="menuitem">О нас</a>
        <a href="/ru/bewertung.html" class="block text-gray-700 hover:text-amber-700" role="menuitem">Отзывы</a>
        <a id="eventLinkMobile" href="/ru/event.html" class="block text-amber-700 font-semibold" role="menuitem">Event</a>
        <a href="/ru/contact.html" class="block text-gray-700 hover:text-amber-700" role="menuitem">Контакты</a>
      </div>
    </header>

    <!-- =========================
            MAIN (RU)
    ========================== -->
    <main id="content" class="py-16 px-4 max-w-7xl mx-auto">
      <h1 class="text-3xl md:text-4xl font-bold text-center text-gray-800 mb-3">Галерея наших мероприятий</h1>
      <p class="text-center text-gray-600 mb-10 max-w-3xl mx-auto text-lg">
        Атмосфера наших свадеб, семейных праздников и корпоративов —
        красиво оформленные фуршеты, сервировка столов и живые эмоции гостей вместе с
        <span class="whitespace-nowrap">Vilana Event &amp; Catering</span> в Хамельне.
      </p>

      <!-- Grid -->
      <div id="gallery" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>

      <!-- Lightbox -->
      <div
        id="lightbox"
        class="hidden fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center"
        aria-modal="true"
        role="dialog"
        aria-label="Просмотр изображения"
        aria-hidden="true"
      >
        <button
          id="lightbox-close"
          class="absolute top-4 right-4 p-2 rounded-full bg-white/10 hover:bg-white/20 text-white transition"
          aria-label="Закрыть"
        >
          ✕
        </button>

        <button
          id="lightbox-prev"
          class="absolute left-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/10 hover:bg-white/20 text-white transition"
          aria-label="Назад"
        >
          <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none">
            <path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
          </svg>
        </button>

        <img
          id="lightbox-image"
          alt=""
          class="max-h-[90vh] max-w-[90vw] object-contain transition-all duration-300 will-change-transform"
        />

        <button
          id="lightbox-next"
          class="absolute right-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/10 hover:bg-white/20 text-white transition"
          aria-label="Вперёд"
        >
          <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none">
            <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
          </svg>
        </button>
      </div>
    </main>

    <!-- =========================================
      FOOTER – Premium Version
    ========================================= -->
    <footer class="footer-premium" itemscope itemtype="https://schema.org/LocalBusiness">
      <meta itemprop="name" content="Vilana Event & Catering" />
      <meta itemprop="telephone" content="+49 176 5777 5996" />
      <meta itemprop="email" content="v.s@vilana.info" />
      <meta itemprop="url" content="https://www.vilana-event.de/" />
      <div itemprop="address" itemscope itemtype="https://schema.org/PostalAddress" hidden>
        <meta itemprop="streetAddress" content="Osterstraße 28" />
        <meta itemprop="addressLocality" content="Aerzen" />
        <meta itemprop="postalCode" content="31855" />
        <meta itemprop="addressRegion" content="Niedersachsen" />
        <meta itemprop="addressCountry" content="DE" />
      </div>

      <div class="footer-inner">
        <div class="footer-deco-line"></div>

        <div class="footer-grid">
          <!-- Kontakt -->
          <div class="footer-col">
            <h3 class="footer-col-title">Kontakt</h3>
            <address class="footer-address">
              <p class="footer-address-name">Vilana Event &amp; Catering</p>
              <p class="footer-address-street">Osterstraße 28<br />31855 Aerzen, Niedersachsen</p>
              <a href="tel:+4917657775996"><span class="contact-icon">☎</span> +49 176 5777 5996</a>
              <a href="tel:+4917642288707"><span class="contact-icon">☎</span> +49 176 4228 8707</a>
              <a href="mailto:v.s@vilana.info"><span class="contact-icon">✉</span> v.s@vilana.info</a>
              <a href="mailto:vilana-event@outlook.de"><span class="contact-icon">✉</span> vilana-event@outlook.de</a>
            </address>

            <a
              href="https://www.instagram.com/vilana_catering/"
              target="_blank"
              rel="noopener noreferrer"
              class="footer-instagram"
              aria-label="Instagram – vilana_catering"
            >
              <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                <path
                  d="M7 2h10a5 5 0 015 5v10a5 5 0 01-5 5H7a5 5 0 01-5-5V7a5 5 0 015-5zm5 4a6 6 0 100 12 6 6 0 000-12zm6-.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3z"
                />
              </svg>
              @vilana_catering
            </a>
          </div>

          <div class="footer-divider-v"></div>

          <!-- Navigation -->
          <div class="footer-col">
            <h3 class="footer-col-title">Navigation</h3>
            <nav aria-label="Footer-Navigation">
              <ul class="footer-nav">
                <li><a href="/">Startseite</a></li>
                <li><a href="/#services">Leistungen</a></li>
                <li><a href="/partyservice.html">Partyservice</a></li>
                <li><a href="/menu.html">Menü</a></li>
                <li><a href="/galerie.html">Galerie</a></li>
                <li><a href="/about.html">Über uns</a></li>
                <li><a href="/event.html">Event</a></li>
                <li><a href="/contact.html">Kontakt</a></li>
              </ul>
            </nav>
          </div>

          <div class="footer-divider-v"></div>

          <!-- Servicegebiet -->
          <div class="footer-col">
            <h3 class="footer-col-title">Servicegebiet</h3>
            <p class="footer-regions-label">Catering &amp; Partyservice in:</p>
            <ul class="footer-regions">
              <li>Hameln</li>
              <li>Hannover</li>
              <li>Bad Pyrmont</li>
              <li>Bielefeld</li>
              <li>Paderborn</li>
              <li>Minden</li>
              <li>Detmold</li>
              <li>Münster</li>
              <li>Braunschweig</li>
              <li>Wunstorf</li>
            </ul>
            <p class="footer-regions-note">Radius ca. 200 km &nbsp;·&nbsp; Niedersachsen &amp; NRW</p>
          </div>
        </div>

        <div class="footer-bottom">
          <p class="footer-copyright">
            © <span id="year-ru">2026</span> Vilana Event &amp; Catering.
            <br class="br-mobile" />
            Alle Rechte vorbehalten.
          </p>

          <nav class="footer-legal" aria-label="Rechtliches">
            <a href="/impressum.html">Impressum</a>
            <span aria-hidden="true">|</span>
            <a href="/datenschutz.html">Datenschutz</a>
            <span aria-hidden="true">|</span>
            <a href="/agb.html">AGB</a>
          </nav>
        </div>
      </div>

      <button
        type="button"
        onclick="window.scrollTo({top: 0, behavior: 'smooth'})"
        class="footer-scroll-top"
        aria-label="Наверх"
        title="Наверх"
      >
        ▲
      </button>
    </footer>

    <!-- =========================
        JS: Jahr, Galerie, Lightbox
        (Sprache & Menü: in main.js)
    ========================== -->
    <script>
      // Year
      (function () {
        const y = new Date().getFullYear();
        const el = document.getElementById("year-ru");
        if (el) el.textContent = y;
      })();

      // Galerie + Lightbox
      (function () {
        const gallery = document.getElementById("gallery");
        const lb = document.getElementById("lightbox");
        const lbImg = document.getElementById("lightbox-image");
        const lbClose = document.getElementById("lightbox-close");
        const lbPrev = document.getElementById("lightbox-prev");
        const lbNext = document.getElementById("lightbox-next");

        const CARD_RATIO = "3 / 2";

        const imageOriginal = [
          "/images/event/event-1.webp","/images/event/event-2.webp","/images/event/event-3.webp",
          "/images/event/event-4.webp","/images/event/event-5.webp","/images/event/event-6.webp",
          "/images/event/event-7.webp","/images/event/event-8.webp","/images/event/event-9.webp",
          "/images/event/event-10.webp","/images/event/event-11.webp","/images/event/event-12.webp",
          "/images/event/event-13.webp","/images/event/event-14.webp","/images/event/event-15.webp",
          "/images/event/event-16.webp","/images/event/event-17.webp","/images/event/event-18.webp",
          "/images/event/event-19.webp","/images/event/event-20.webp","/images/event/event-21.webp",
          "/images/event/event-22.webp","/images/event/event-23.webp"
        ];

        // ВАЖНО: alt строго по количеству фото (23), иначе часть будет падать на общий alt.
        const altTemplates = [
          "Свадебный стол и сервировка от Vilana Event & Catering",
          "Стол молодожёнов с декором и цветочными композициями",
          "Фуршет с горячими блюдами для свадебного торжества",
          "Candy Bar и десерты на свадьбе в Хамельне",
          "Фингерфуд и канапе для welcome-зоны или семейного праздника",
          "Праздничная сервировка со свечами и тканевыми салфетками",
          "Кейтеринг для корпоративного мероприятия с разнообразным меню",
          "Семейный праздник с накрытыми столами и фуршетом Vilana",
          "День рождения с холодными закусками и сетами",
          "Частное мероприятие в Нижней Саксонии — сервировка и декор",
          "Фуршет: салаты, закуски и основные блюда",
          "Десертный стол и сладости от Vilana Event & Catering",
          "Летнее мероприятие с лёгкими блюдами и напитками",
          "Декор мероприятия: гирлянды и флористические элементы",
          "Банкетный стол на несколько подач для закрытого события",
          "Welcome-зона с игристым и фингерфудом в Хамельне",
          "Семейный праздник: тёплые блюда и закуски",
          "Современная подача фуршета: горячее и холодное",
          "Деталь праздничного декора стола",
          "Гости наслаждаются атмосферой и фуршетом Vilana",
          "Впечатления со свадеб и мероприятий с Vilana Event & Catering",
          "Фуршет и сервировка для мероприятия в Niedersachsen — Vilana",
          "Десертный стол и декор — Vilana Event & Catering"
        ];

        const THUMB_480 = 480;
        const THUMB_800 = 800;
        const SIZES_GRID = "(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw";

        function withSize(src, w) {
          return src.replace(/\.webp$/i, "-" + w + ".webp");
        }

        let currentIndex = 0;
        let lastActiveEl = null;

        function update() {
          lbImg.src = imageOriginal[currentIndex];
          lbImg.alt = altTemplates[currentIndex] || "Vilana Event & Catering — впечатления с мероприятий";
        }

        function openLightbox(i) {
          lastActiveEl = document.activeElement;
          currentIndex = i;
          update();

          lb.classList.remove("hidden");
          lbImg.classList.remove("zoomed");
          lb.setAttribute("aria-hidden", "false");

          document.body.style.overflow = "hidden";
          setTimeout(() => lbClose?.focus(), 0);
        }

        function closeLightbox() {
          lb.classList.add("hidden");
          lbImg.src = "";
          lbImg.classList.remove("zoomed");
          lb.setAttribute("aria-hidden", "true");

          document.body.style.overflow = "";

          if (lastActiveEl && typeof lastActiveEl.focus === "function") lastActiveEl.focus();
        }

        function prevImage() {
          currentIndex = (currentIndex - 1 + imageOriginal.length) % imageOriginal.length;
          update();
        }

        function nextImage() {
          currentIndex = (currentIndex + 1) % imageOriginal.length;
          update();
        }

        function toggleZoom() {
          lbImg.classList.toggle("zoomed");
        }

        // minimal focus trap
        function trapFocus(e) {
          if (lb.classList.contains("hidden")) return;
          if (e.key !== "Tab") return;

          const focusables = [lbPrev, lbNext, lbClose].filter(Boolean);
          if (!focusables.length) return;

          const first = focusables[0];
          const last = focusables[focusables.length - 1];

          if (e.shiftKey && document.activeElement === first) {
            e.preventDefault();
            last.focus();
          } else if (!e.shiftKey && document.activeElement === last) {
            e.preventDefault();
            first.focus();
          }
        }

        imageOriginal.forEach((srcOriginal, i) => {
          const fig = document.createElement("figure");
          fig.className = "relative overflow-hidden rounded-lg shadow-md bg-white ring-1 ring-black/5 group";
          fig.style.aspectRatio = CARD_RATIO;

          // лучше button для A11y + UX
          const btn = document.createElement("button");
          btn.type = "button";
          btn.className = "block w-full h-full";
          btn.setAttribute("aria-label", "Открыть фото: " + (altTemplates[i] || "Мероприятие"));
          btn.addEventListener("click", () => openLightbox(i));

          const img = document.createElement("img");
          const src800 = withSize(srcOriginal, THUMB_800);
          const src480 = withSize(srcOriginal, THUMB_480);

          img.src = src800;
          img.srcset = `${src480} ${THUMB_480}w, ${src800} ${THUMB_800}w`;
          img.sizes = SIZES_GRID;

          img.alt = altTemplates[i] || "Vilana Event & Catering — кейтеринг и мероприятия в Niedersachsen";
          img.width = 1200;
          img.height = 800;
          img.decoding = "async";

          img.loading = i === 0 ? "eager" : "lazy";
          if (i === 0) img.fetchPriority = "high";

          // ВАЖНО: статический object-cover (иначе Tailwind build может не включить стиль)
          img.className =
            "w-full h-full object-cover bg-gray-100 transition-transform duration-300 group-hover:scale-105";

          // fallback если thumb-версии нет
          img.addEventListener("error", () => {
            if (img.src.includes("-" + THUMB_800 + ".webp") || img.src.includes("-" + THUMB_480 + ".webp")) {
              img.srcset = "";
              img.sizes = "";
              img.src = srcOriginal;
            }
          });

          btn.appendChild(img);
          fig.appendChild(btn);
          gallery.appendChild(fig);
        });

        lbClose?.addEventListener("click", closeLightbox);
        lbPrev?.addEventListener("click", prevImage);
        lbNext?.addEventListener("click", nextImage);
        lbImg?.addEventListener("click", toggleZoom);

        // закрытие по клику на фон
        lb?.addEventListener("click", (e) => {
          if (e.target === lb) closeLightbox();
        });

        document.addEventListener("keydown", (e) => {
          if (lb.classList.contains("hidden")) return;

          if (e.key === "Escape") closeLightbox();
          if (e.key === "ArrowLeft") prevImage();
          if (e.key === "ArrowRight") nextImage();

          // zoom по Enter/Space (когда фокус на изображении/close)
          if (e.key === " " || e.key === "Enter") {
            if (document.activeElement === lbImg || document.activeElement === lbClose) {
              e.preventDefault();
              toggleZoom();
            }
          }

          trapFocus(e);
        });
      })();
    </script>

    <!-- Globale Logik: Sprache, Menü, Event-Link -->
    <script src="/js/main.js" defer></script>
    <!-- Cookie Consent Wall -->
    <script src="/js/vilana-cookiewall.js" defer></script>
  </body>
</html>
